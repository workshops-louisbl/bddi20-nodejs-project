<html>
  <head>
    <script>
      console.log("dans le navigateur")
      const socket = new WebSocket(`ws://${window.location.hostname}:${window.location.port}`);

      socket.addEventListener("message", async function (event) {
        
        try {
          const data = await event.data.text()
          console.log("message from server: ", data)
        } catch(err) {

        }
        
      })

      socket.addEventListener('open', function (event) {
        console.log("connected", event);
        
        socket.send("Hello from client")
      });

    </script>
  </head>
  <body>
    <h1>Yay</h1>
  </body>
</html>